label occupied sum 30093.0
pred occupied sum 35182.0
预测对的占用情况 TP= 6269   占用了且预测为占用  TP+FP=35182 TP+FN=30093
预测错的占用情况1 FP= 28913 未占用 但预测为占用 (这些可能是因为在某个稀疏位置的稀疏点云导致的误判，只有一个点导致的一些误判)
预测错的占用情况2 FN= 23824 占用了但预测为未占用 （就是说在有的地方点云还没分布/还不够多
#   IoU = TP/(TP+FP+FN) 提高TP或者降低FP,FN
IoU= 10.624343287123343  # 稀疏位置的稀疏点云导致的误判比较严重
# 预测对的占用 6000/30000 占真值20%
# 预测错的占用 28913/35182 占预测点云的80% (就是说预测的点太多了?)

# 试一下只用初始点云啥结果
plydata = PlyData.read('../data/nusc_demo/pc2ego_output.ply')
# IoU= 8.523155830441997
label occupied sum 30093.0
pred occupied sum 5877.0
预测对的占用情况 TP= 2825
预测错的占用情况1 FP= 3052  未占用 但预测为占用   (这些可能是因为稀疏点云，只有一个点导致的一些误判)
预测错的占用情况2 FN= 27268 占用了但预测为未占用  (就是说在有的地方点云还没分布/还不够多) 
                                                
IoU = 8.52315583044199  # 点云不够多的影响比较严重 ->所以增加点云确实减少了这部分 但是又增加了FP的情况
而且，FN降低的不多，但FP增加的却很多

就是说，增加点云对提高IoU有效果，但是目前效果不大,也就是从8.5提高到10.6

不过，目前也完全没用到高斯中存储的任何属性，只是用到了高斯作为点云的位置信息
实际上就和直接用点云的性质差不多，如果把高斯的不透明度信息用到，
比如说在不透明度筛选的部分调调参，让点云不要那么多，
或者说，目前的问题就是高斯的点云太多了，如果一个区域内只有一个点云就认为这个地方是被占据的话，那可能也有点不合理，假如点云能包住网格，再认为它是被占据的可能最后算出的会更好吧，大概，试一下吧
不过这种方法肯定也已经不能增加TP了，但是有可能会减少FN，


2024.1.18:
然而之前开会，说是推理时也没法保证实时性
transformer似乎很慢，可能换个方式会快一点